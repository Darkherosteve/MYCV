<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Steveson Saji</title>

  <!-- Bootstrap Icons -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
  />

  <!-- Layout CSS -->
  <link rel="stylesheet" href="layout.css" />
</head>

<body>
  <!-- ================= TOP BAR ================= -->
  <div class="top-bar">
    <div class="top-left">
      <span>Activities</span>
    </div>

    <div class="top-center">
      <span id="dateDisplay">Loading...</span>
    </div>

    <div class="top-right">
      <i class="bi bi-volume-up" title="Volume"></i>
      <i class="bi bi-hdd-network-fill" title="Network"></i>
      <i class="bi bi-wifi" title="WiFi"></i>
      <i class="bi bi-power" title="Power"></i>
    </div>
  </div>

  <!-- ================= SIDEBAR ================= -->
  <nav class="sidebar">
    <div class="main-icons">
      <i class="bi bi-terminal"
         title="Terminal"
         onclick="loadInIframe('apps/terminal.html', this)"></i>

      <i class="bi bi-person-circle"
         title="About"
         onclick="loadInIframe('apps/about.html', this)"></i>

      <i class="bi bi-lightning-charge-fill"
         title="Now"
         onclick="loadInIframe('apps/now.html', this)"></i>

      <i class="bi bi-box-seam"
         title="Projects"
         onclick="loadInIframe('apps/projects.html', this)"></i>

      <i class="bi bi-cpu"
         title="Skills"
         onclick="loadInIframe('apps/skills.html', this)"></i>

      <i class="bi bi-file-earmark-text"
         title="Resume"
         onclick="loadInIframe('apps/resume.html', this)"></i>
    </div>

    <div class="more-icons">
      <i class="bi bi-envelope-paper"
         title="Contact"
         onclick="loadInIframe('apps/contact.html', this)"></i>
    </div>
  </nav>

  <!-- ================= MAIN CONTENT ================= -->
  <div class="content">
    <iframe id="mainFrame" src="apps/terminal.html"></iframe>
  </div>

  <!-- ================= SCRIPT ================= -->
  <script>
    const dateEl = document.getElementById("dateDisplay");

    function updateDate() {
      const now = new Date();
      const month = now.toLocaleString("default", { month: "long" });
      const day = now.getDate();
      const hours = now.getHours().toString().padStart(2, "0");
      const minutes = now.getMinutes().toString().padStart(2, "0");
      dateEl.textContent = `${month} ${day} ${hours}:${minutes}`;
    }

    setInterval(updateDate, 1000);
    updateDate();

    function loadInIframe(url, el) {
      document.getElementById("mainFrame").src = url;

      document.querySelectorAll(".sidebar i").forEach(icon =>
        icon.classList.remove("active")
      );

      if (el) el.classList.add("active");
    }
  </script>
  <script>
  // ===== SESSION PROTECTION =====
  if (localStorage.getItem("os_unlocked") !== "true") {
    window.location.replace("lock.html");
  }
</script>

</body>
</html>
